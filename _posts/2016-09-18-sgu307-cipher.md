---
layout: post
title: "[sgu307] Cipher"
description: ""
category: "sgu"
tags: ["2-sat", "递推"]
---
{% include JB/setup %}
{% raw %}

### 题意

给定一个 \\(n * m\\) 的 \\(0, 1\\) 矩阵 \\(A\\)，现在你不知道矩阵 \\(A\\) 的内容，
但是有另一个矩阵 \\(B\\)，满足 \\(B\_{i, j}=A\_{i, j}+A\_{i+1, j}+A\_{i, j+1}+A\_{i+1, j+1}\\)。
问是不是可以在知道矩阵 \\(B\\) 的情况下，还原出任意一组合法的矩阵 \\(A\\)，
如果不可能，输出 CORRUPT。\\(2 \le n, m \le 300\\)

时间限制：0.25second(s)，内存限制：65536 kilobytes

### 题解

这个题目模型比较隐蔽。

首先将题目的条件变形。得：
$$ A\_{i, j}=B\_{i, j}-A\_{i+1, j}-A\_{i, j+1}-A\_{i+1, j+1} \label{one} $$

所以如果最后一行以及最后一列确定下来，那么整个矩阵 \\(A\\) 就可以被还原。

我们可以将 (\ref{one}) 不断展开，可以发现：
$$ A\_{i, j}=C\_{i, j}+(-1)^{n-i}A\_{n, j}+(-1)^{m-j}A\_{i, m}+(-1)^{n+m-i-j}A\_{n, m} \label{two} $$
其中 \\(C\\) 是一个常数矩阵。

这个式子可以归纳法证明。实际中可以找一下规律，然后用一个 \\(O(nm)\\) 的递推
找寻下 \\(A\_{i, j}\\) 和最后一行及最后一列的系数关系，然后求出 \\(C\\)。

### 实现

```cpp
```

{% endraw %}

